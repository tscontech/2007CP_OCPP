<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ITE SoC SDK: Video Memory Management</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ITE SoC SDK
   &#160;<span id="projectnumber">2.4.4.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__itp__vmem.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Video Memory Management<div class="ingroups"><a class="el" href="group__itp.html">ITE Platform Library</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This section describes the programming interfaces of video memory (or called VRAM) management.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga8041fffd9111acc4b6bb1c0b172ea184"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__itp__vmem.html#ga8041fffd9111acc4b6bb1c0b172ea184">itpVmemAlloc</a> (size_t size)</td></tr>
<tr class="memdesc:ga8041fffd9111acc4b6bb1c0b172ea184"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates video memory.  <a href="#ga8041fffd9111acc4b6bb1c0b172ea184">More...</a><br /></td></tr>
<tr class="separator:ga8041fffd9111acc4b6bb1c0b172ea184"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9871f8e38b1d20075f544a2d39b8628d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__itp__vmem.html#ga9871f8e38b1d20075f544a2d39b8628d">itpVmemAlignedAlloc</a> (size_t alignment, size_t size)</td></tr>
<tr class="memdesc:ga9871f8e38b1d20075f544a2d39b8628d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The itpVmemAlignedAlloc function is similar to the memalign function in that it returns a video memory of size bytes aligned to a multiple of alignment.  <a href="#ga9871f8e38b1d20075f544a2d39b8628d">More...</a><br /></td></tr>
<tr class="separator:ga9871f8e38b1d20075f544a2d39b8628d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabf2415dcb3732f6052b5f8d8a6dcef58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__itp__vmem.html#gabf2415dcb3732f6052b5f8d8a6dcef58">itpVmemFree</a> (uint32_t addr)</td></tr>
<tr class="memdesc:gabf2415dcb3732f6052b5f8d8a6dcef58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases allocated video memory.  <a href="#gabf2415dcb3732f6052b5f8d8a6dcef58">More...</a><br /></td></tr>
<tr class="separator:gabf2415dcb3732f6052b5f8d8a6dcef58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga98ec7b2195d4c0bd200b11f83b197d0e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__itp__vmem.html#ga98ec7b2195d4c0bd200b11f83b197d0e">itpVmemStats</a> (void)</td></tr>
<tr class="memdesc:ga98ec7b2195d4c0bd200b11f83b197d0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the video memory management status.  <a href="#ga98ec7b2195d4c0bd200b11f83b197d0e">More...</a><br /></td></tr>
<tr class="separator:ga98ec7b2195d4c0bd200b11f83b197d0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f64f112a54dfac1dbddf833c543758b"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__itp__vmem.html#ga2f64f112a54dfac1dbddf833c543758b">itpWTAlloc</a> (size_t size)</td></tr>
<tr class="memdesc:ga2f64f112a54dfac1dbddf833c543758b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates write-through memory.  <a href="#ga2f64f112a54dfac1dbddf833c543758b">More...</a><br /></td></tr>
<tr class="separator:ga2f64f112a54dfac1dbddf833c543758b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga429132e2041f690f926f33c7b55f32be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__itp__vmem.html#ga429132e2041f690f926f33c7b55f32be">itpWTFree</a> (uint32_t addr)</td></tr>
<tr class="memdesc:ga429132e2041f690f926f33c7b55f32be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases allocated write-through memory.  <a href="#ga429132e2041f690f926f33c7b55f32be">More...</a><br /></td></tr>
<tr class="separator:ga429132e2041f690f926f33c7b55f32be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ce9c20edde9cc35cb5e0ed6efde2870"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__itp__vmem.html#ga8ce9c20edde9cc35cb5e0ed6efde2870">itpWTStats</a> (void)</td></tr>
<tr class="memdesc:ga8ce9c20edde9cc35cb5e0ed6efde2870"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the write-through memory management status.  <a href="#ga8ce9c20edde9cc35cb5e0ed6efde2870">More...</a><br /></td></tr>
<tr class="separator:ga8ce9c20edde9cc35cb5e0ed6efde2870"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This section describes the programming interfaces of video memory (or called VRAM) management. </p>
<h1><a class="anchor" id="itp_vmem_Chapter"></a>
Terms and acronyms</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Terms  </th><th class="markdownTableHeadNone">Details   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>VRAM</b>  </td><td class="markdownTableBodyNone">Video memory. When the project is built with openrtos and run directly on the real chip, video memory is no different from system memroy. It means they are the same thing. However, if the project is built with MSVC and run on the host PC, video memory means the memory on the chip and the system memory is the memory on the host PC. At this point, the video memory and the system memory are not only physically different things, but their address space is also different. It mean that the address 0x0 on video memory is totally different from the address 0x0 on system memory.   </td></tr>
</table>
<h1><a class="anchor" id="HAL_I2C_Driver_Usage_Chapter"></a>
How to use this API</h1>
<ul>
<li>Sample code: <div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">size_t</span> size = 0x1000;</div><div class="line">uint32_t vram = <a class="code" href="group__itp__vmem.html#ga8041fffd9111acc4b6bb1c0b172ea184">itpVmemAlloc</a>(size);</div><div class="line"><span class="keywordtype">void</span>*    sysram = ithMapVram(vram, size, ITH_VRAM_WRITE);</div><div class="line">memset(sysram, 0, size);</div><div class="line">ithUnmapVram(sysram, size);</div><div class="line"><a class="code" href="group__itp__vmem.html#gabf2415dcb3732f6052b5f8d8a6dcef58">itpVmemFree</a>(vram);</div></div><!-- fragment --> </li>
</ul>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga9871f8e38b1d20075f544a2d39b8628d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9871f8e38b1d20075f544a2d39b8628d">&#9670;&nbsp;</a></span>itpVmemAlignedAlloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t itpVmemAlignedAlloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>alignment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The itpVmemAlignedAlloc function is similar to the memalign function in that it returns a video memory of size bytes aligned to a multiple of alignment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">alignment</td><td>The alignment that you want to use for the memory. This must be a multiple of size( void *). </td></tr>
    <tr><td class="paramname">size</td><td>The amount of memory you want to allocate, in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Allocated video memory address, or 0 if an error occurred </dd></dl>

</div>
</div>
<a id="ga8041fffd9111acc4b6bb1c0b172ea184"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8041fffd9111acc4b6bb1c0b172ea184">&#9670;&nbsp;</a></span>itpVmemAlloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t itpVmemAlloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates video memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The amount of memory you want to allocate, in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Allocated video memory address, or 0 if an error occurred </dd></dl>

</div>
</div>
<a id="gabf2415dcb3732f6052b5f8d8a6dcef58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabf2415dcb3732f6052b5f8d8a6dcef58">&#9670;&nbsp;</a></span>itpVmemFree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void itpVmemFree </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases allocated video memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>The allocated video memory address. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga98ec7b2195d4c0bd200b11f83b197d0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga98ec7b2195d4c0bd200b11f83b197d0e">&#9670;&nbsp;</a></span>itpVmemStats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void itpVmemStats </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints the video memory management status. </p>

</div>
</div>
<a id="ga2f64f112a54dfac1dbddf833c543758b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2f64f112a54dfac1dbddf833c543758b">&#9670;&nbsp;</a></span>itpWTAlloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t itpWTAlloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates write-through memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The size to allocate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Allocated memory address. </dd></dl>

</div>
</div>
<a id="ga429132e2041f690f926f33c7b55f32be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga429132e2041f690f926f33c7b55f32be">&#9670;&nbsp;</a></span>itpWTFree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void itpWTFree </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases allocated write-through memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>The allocated write-through memory address. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8ce9c20edde9cc35cb5e0ed6efde2870"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8ce9c20edde9cc35cb5e0ed6efde2870">&#9670;&nbsp;</a></span>itpWTStats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void itpWTStats </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints the write-through memory management status. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Aug 5 2021 13:27:04 for ITE SoC SDK by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
